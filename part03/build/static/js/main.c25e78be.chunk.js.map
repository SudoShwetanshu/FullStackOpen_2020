{"version":3,"sources":["components/PersonForm.js","components/Numbers.js","components/Filter.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","type","value","onChange","required","numbervalue","onChangeNumber","Numbers","persons","deletePerson","map","person","className","key","id","name","number","onClick","Filter","Notification","notification","Error","error","baseUrl","axios","get","newObject","post","delete","changedPerson","put","Heading","text","App","useState","setPersons","search","setSearch","newNumber","setNewNumber","newPerson","setNewPerson","setNotification","setError","useEffect","personService","then","response","data","filtered","filter","p","toLowerCase","includes","event","target","preventDefault","personObject","e","length","window","confirm","idToUpdate","find","setTimeout","catch","n","concat","Array","from","document","querySelectorAll","forEach","input","numberValue","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c25e78be.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    \r\n    <div>\r\n      \r\n      <form onSubmit={props.onSubmit}>\r\n      <div>\r\n        name:&nbsp;&nbsp;&nbsp;&nbsp; <input type=\"text\" value={props.value} onChange={props.onChange} required/>\r\n      </div>\r\n      <div>\r\n        number:&nbsp;  <input type=\"text\" value={props.numbervalue} onChange={props.onChangeNumber} required />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Numbers = ({persons, deletePerson}) => {\r\n\r\n \r\n    return ( \r\n    <div>\r\n\r\n      <div> <h2> Numbers </h2> </div>\r\n      {persons.map((person) =>\r\n       <li className='numbers' key={person.id}> {person.name + \"    \" + person.number  + \"     id: \" + person.id} &nbsp;\r\n         <button className=\"btn\" onClick={()=>deletePerson(person)}> Delete </button>\r\n       </li>)}\r\n     \r\n    </div>\r\n    )\r\n}\r\n export default Numbers ","import React from 'react'\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n        <div> \r\n      <p className=\"filterText\">Filter shown with &nbsp;\r\n        <input value={value} onChange={onChange}/>\r\n      </p>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\n\r\nconst Notification = ({ notification }) => {\r\n    if (notification === null) {return null}\r\n\r\n    return (\r\n\r\n    <div className=\"notification\" >\r\n        {notification}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react';\r\n\r\n\r\nconst Error = ({ error }) => {\r\n    if (error === null) {return null}\r\n\r\n    return (\r\n\r\n        <div className=\"error\" >\r\n            {error}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request\r\n  }\r\n\r\n  const add = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request\r\n  }\r\n  \r\n  const remove = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request\r\n  }\r\n\r\n  const update = (id, changedPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, changedPerson)\r\n    return request\r\n  }\r\n\r\n\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    add,\r\n    remove,\r\n    update\r\n}","import React, { useState, useEffect  } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Numbers from './components/Numbers'\r\nimport Filter from './components/Filter'\r\nimport Notification from \"./components/Notification\";\r\nimport Error from \"./components/Error\";\r\nimport personService from './services/persons'\r\n\r\nconst Heading = (props) => <div> <h1 id={\"h1\"}>{props.text}</h1> <p> A basic crud app with custom RESTful API by Shwetanshu Acharya.</p></div>\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [search, setSearch] = useState(\"\")\r\n  const [newNumber, setNewNumber] = useState(\"\")\r\n  const [newPerson, setNewPerson] = useState(\"\")\r\n  const [notification, setNotification] = useState(null)\r\n  const [error, setError] = useState(null)\r\n\r\n\r\n    useEffect(() => {\r\n   personService.getAll().then(response => {\r\n        setPersons(response.data)\r\n       setNotification(null)\r\n      })\r\n  }, [])\r\n  \r\n\r\n\r\n const filtered = persons.filter(p => {\r\n     return p.name.toLowerCase().includes(search.toLowerCase());\r\n  })\r\n\r\n\r\n  const handlePersonChange = (event) => {\r\n    setNewPerson(event.target.value)\r\n  }\r\n  const handleNoChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleSearchChange = (event) => {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n  const handleReset = () => {\r\n    Array.from(document.querySelectorAll(\"input\")).forEach(\r\n      input => (input.value = \"\")\r\n    )\r\n    setNewPerson(\"\")\r\n  }\r\n\r\n\r\n  const addPerson = (event) => {\r\n      event.preventDefault();\r\n      const personObject = { name: newPerson,\r\n        number: newNumber\r\n     }\r\n     if (persons.filter(e => e.name === personObject.name).length > 0 ) {\r\n         const ans = window.confirm(`Update ${personObject.name} with the new number ${personObject.number} ?`)\r\n         if (ans) {\r\n             const idToUpdate = persons.find(p => p.name === personObject.name)\r\n             personService.update(idToUpdate.id, personObject).then(response =>\r\n                 setPersons(persons.map(p => p.id !== idToUpdate.id ? p : response.data))\r\n             ).then(() => {\r\n                 setNotification(`${personObject.name} was updated with the new Number \"${personObject.number}\"`)\r\n                 setTimeout(() => {setNotification(null)}, 5000)\r\n             })\r\n                 .catch(error => {setError(`Information of \"${personObject.name}\" has already been removed from the server!`)\r\n                     setPersons(persons.filter(n => n.id !== idToUpdate.id))\r\n                     setTimeout(() => {setError(null)}, 5000)\r\n                 })\r\n\r\n        }\r\n     }\r\n\r\n        else {\r\n         personService.add(personObject)\r\n             .then(response => {\r\n                 setPersons(persons.concat(response.data))\r\n                 setNotification(`Added ${personObject.name} with number ${personObject.number} to phonebook!`)\r\n                 setNewNumber(\"\")\r\n                 setNewPerson(\"\")\r\n                 setTimeout(() => {\r\n                     setNotification(null)\r\n                 }, 5000)\r\n\r\n             })\r\n\r\n     }\r\n      handleReset()\r\n  }\r\n\r\n\r\n  const deletePerson = (p) => {\r\n      const mm = window.confirm(\"Delete?\")\r\n      if(mm) {\r\n          personService.remove(p.id).then(\r\n              setPersons(persons.filter(person => person.id !== p.id))\r\n          )\r\n              .catch(error => {\r\n                  setError(\r\n                      `The person \"${p.name}\" was already deleted from server`\r\n                  )\r\n                  setPersons(persons.filter(n => n.id !== p.id))\r\n                  setTimeout(() => {setError(null)},5000)\r\n\r\n              })\r\n      }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n        <Notification notification={notification} />\r\n        <Error error={error} />\r\n        <Heading text=\"Phonebook\" />\r\n        <Filter value={search} onChange={handleSearchChange} />\r\n        <h2>Add a new person</h2>\r\n        <PersonForm value={newPerson} onChange={handlePersonChange} onSubmit={addPerson} numberValue={newNumber} onChangeNumber={handleNoChange} />\r\n        <Numbers persons={filtered} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\n\nimport App from './App'\n\n\n\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}