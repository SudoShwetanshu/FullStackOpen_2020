{"version":3,"sources":["components/PersonForm.js","components/Numbers.js","components/Filter.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","type","value","onChange","required","numbervalue","onChangeNumber","Numbers","persons","deletePerson","map","person","className","key","id","name","number","onClick","Filter","Notification","notification","Error","error","baseUrl","axios","get","newObject","post","delete","changedPerson","put","Heading","text","href","App","useState","setPersons","search","setSearch","newNumber","setNewNumber","newPerson","setNewPerson","setNotification","setError","useEffect","personService","then","response","data","filtered","filter","p","toLowerCase","includes","event","target","preventDefault","personObject","e","length","window","confirm","idToUpdate","find","setTimeout","catch","status","JSON","stringify","n","concat","err","console","log","Array","from","document","querySelectorAll","forEach","input","numberValue","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e6aaa1da.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    \r\n    <div>\r\n      \r\n      <form onSubmit={props.onSubmit}>\r\n      <div>\r\n        name: <input type=\"text\" value={props.value} onChange={props.onChange} required/>\r\n      </div>\r\n      <div>\r\n        number: <input type=\"text\" value={props.numbervalue} onChange={props.onChangeNumber} required />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Numbers = ({persons, deletePerson}) => {\r\n\r\n \r\n    return ( \r\n    <div>\r\n\r\n      <div> <h2> Numbers </h2> </div>\r\n      {persons.map((person) =>\r\n       <li className='numbers' key={person.id}>  {person.name + \"           \" + person.number} &nbsp;\r\n         <button className=\"btn\" onClick={()=>deletePerson(person)}> Delete </button>\r\n       </li>)}\r\n     \r\n    </div>\r\n    )\r\n}\r\n export default Numbers ","import React from 'react'\r\nconst Filter = ({value, onChange}) => {\r\n    return (\r\n        <div> \r\n      <p className=\"filterText\">Filter shown with &nbsp;\r\n        <input value={value} onChange={onChange}/>\r\n      </p>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react';\r\n\r\n\r\nconst Notification = ({ notification }) => {\r\n    if (notification === null) {return null}\r\n\r\n    return (\r\n\r\n    <div className=\"notification\" >\r\n        {notification}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React from 'react';\r\n\r\n\r\nconst Error = ({ error }) => {\r\n    if (error === null) {return null}\r\n\r\n    return (\r\n\r\n        <div className=\"error\" >\r\n            {error}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Error","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request\r\n}\r\n\r\nconst add = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n}\r\n\r\nconst update = (id, changedPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, changedPerson)\r\n  return request\r\n}\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  add,\r\n  remove,\r\n  update\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Numbers from './components/Numbers'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport Error from './components/Error'\r\nimport personService from './services/persons'\r\n\r\nconst Heading = (props) => <div> <h1 id='h1'>{props.text}</h1> <p> A basic CRUD REST API by <a href='https://www.github.com/SudoShwetanshu'>SudoShwetanshu</a> , subject to open and free use for all purposes/boiler-plating.</p></div>\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [search, setSearch] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n  const [newPerson, setNewPerson] = useState('')\r\n  const [notification, setNotification] = useState(null)\r\n  const [error, setError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then(response => {\r\n      setPersons(response.data)\r\n      setNotification(null)\r\n    })\r\n  }, [])\r\n\r\n  const filtered = persons.filter(p => p.name.toLowerCase().includes(search.toLowerCase()))\r\n\r\n  const handlePersonChange = (event) => {\r\n    setNewPerson(event.target.value)\r\n  }\r\n  const handleNoChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleSearchChange = (event) => {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n  const handleReset = () => {\r\n    Array.from(document.querySelectorAll('input')).forEach(\r\n      input => (input.value = '')\r\n    )\r\n    setNewPerson('')\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newPerson,\r\n      number: newNumber\r\n    }\r\n    if (persons.filter(e => e.name === personObject.name).length > 0) {\r\n      const ans = window.confirm(`Update ${personObject.name} with the new number ${personObject.number} ?`)\r\n      if (ans) {\r\n        const idToUpdate = persons.find(p => p.name === personObject.name)\r\n        personService.update(idToUpdate.id, personObject).then(response =>\r\n          setPersons(persons.map(p => p.id !== idToUpdate.id ? p : response.data))\r\n        ).then(() => {\r\n          setNotification(`${personObject.name} was updated with the new Number \"${personObject.number}\"`)\r\n          setTimeout(() => { setNotification(null) }, 5000)\r\n        })\r\n          .catch(error => {\r\n            if (error.response.status === 406) {\r\n              setError(JSON.stringify(error.response.data))\r\n            } else {\r\n              setError(`The information for ${personObject.name} has already been deleted from server!`)\r\n              setPersons(persons.filter(n => n.id !== idToUpdate.id))\r\n            }\r\n            setTimeout(() => { setError(null) }, 5000)\r\n          })\r\n      }\r\n    } else {\r\n      personService.add(personObject)\r\n        .then(response => {\r\n          setPersons(persons.concat(response.data))\r\n          setNotification(`Added ${personObject.name} with number ${personObject.number} to phonebook!`)\r\n          setNewNumber('')\r\n          setNewPerson('')\r\n          setTimeout(() => {\r\n            setNotification(null)\r\n          }, 5000)\r\n        }).catch(err => {\r\n          console.log(` FRONTEND ERROR MSG ${err}`)\r\n          setError(`${JSON.stringify(err.response.data)}`)\r\n          setTimeout(() => { setError(null) }, 5000)\r\n        })\r\n    }\r\n    handleReset()\r\n  }\r\n\r\n  const deletePerson = (p) => {\r\n    const mm = window.confirm('Delete?')\r\n    if (mm) {\r\n      personService.remove(p.id).then(\r\n        setPersons(persons.filter(person => person.id !== p.id))\r\n      )\r\n        .catch(() => {\r\n          setError(`The person \"${p.name}\" was already deleted from server`)\r\n          setPersons(persons.filter(n => n.id !== p.id))\r\n          setTimeout(() => { setError(null) }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='container'>\r\n      <Notification notification={notification} />\r\n      <Error error={error} />\r\n      <Heading text='Phonebook' />\r\n      <Filter value={search} onChange={handleSearchChange} />\r\n      <h2>Add a new person</h2>\r\n      <PersonForm value={newPerson} onChange={handlePersonChange} onSubmit={addPerson} numberValue={newNumber} onChangeNumber={handleNoChange} />\r\n      <Numbers persons={filtered} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\nexport default App\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}